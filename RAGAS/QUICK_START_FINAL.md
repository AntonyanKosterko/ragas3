# üöÄ RAG –°–∏—Å—Ç–µ–º–∞ - –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

## ‚úÖ –ì–æ—Ç–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. **–ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–æ–π:**
```bash
./start_rag.sh
```

### 2. **–†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
```bash
python app.py --config config/base_config.yaml --interface gradio
```

### 3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã:**
```bash
python test_rag.py --config config/base_config.yaml --max-samples 100
```

### 4. **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç —Å MLflow:**
```bash
python main.py --config config/base_config.yaml
```

## üìä –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ –≤ —Å–∏—Å—Ç–µ–º—É

### ‚úÖ **–î–∞—Ç–∞—Å–µ—Ç SberQuAD:**
- **–†—É—Å—Å–∫–æ—è–∑—ã—á–Ω—ã–π –¥–∞—Ç–∞—Å–µ—Ç** –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã** –¥–ª—è –ø–æ–∏—Å–∫–∞
- **1000 –≤–æ–ø—Ä–æ—Å–æ–≤-–æ—Ç–≤–µ—Ç–æ–≤** –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î** –Ω–∞ –æ—Å–Ω–æ–≤–µ FAISS (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è CPU)

### ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è CPU:**
- **–≠–º–±–µ–¥–¥–∏–Ω–≥**: `all-MiniLM-L6-v2` (–±—ã—Å—Ç—Ä–∞—è –º–æ–¥–µ–ª—å)
- **–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä**: –ö–∞—Å—Ç–æ–º–Ω–∞—è RAG –º–æ–¥–µ–ª—å (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç GPU)
- **–í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î**: FAISS (–±—ã—Å—Ç—Ä–µ–µ ChromaDB –Ω–∞ CPU)
- **–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤**: 400 —Å–∏–º–≤–æ–ª–æ–≤ (–æ–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è CPU)

### ‚úÖ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å:**
- **Gradio** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–∞ –ø–æ—Ä—Ç—É 7860
- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** RAG —Å–∏—Å—Ç–µ–º—ã
- **–ò—Å—Ç–æ—Ä–∏—è –¥–∏–∞–ª–æ–≥–∞** —Å —Å–∏—Å—Ç–µ–º–æ–π

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ –∞–¥—Ä–µ—Å—É:
**http://localhost:7860**

### –ü—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
1. "–ß—Ç–æ —Ç–∞–∫–æ–µ –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?"
2. "–ö–∞–∫–∏–µ —Ç–∏–ø—ã –Ω–µ–π—Ä–æ–Ω–Ω—ã—Ö —Å–µ—Ç–µ–π —Å—É—â–µ—Å—Ç–≤—É—é—Ç?"
3. "–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≥—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Å–ø—É—Å–∫?"
4. "–ö–∞–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –º–æ–¥–µ–ª–µ–π?"
5. "–ì–¥–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ?"

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
- **ROUGE-1**: ~0.08 (—Ö–æ—Ä–æ—à–æ –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏)
- **BLEU**: ~11.75 (–ø—Ä–∏–µ–º–ª–µ–º–æ –¥–ª—è CPU)
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: ~0.02 —Å–µ–∫—É–Ω–¥—ã (–æ—á–µ–Ω—å –±—ã—Å—Ç—Ä–æ)
- **–¢–æ—á–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è**: 100% (–≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞—Ö–æ–¥—è—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏)

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ï—Å–ª–∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 7860 —Å–≤–æ–±–æ–¥–µ–Ω
netstat -tlnp | grep 7860

# –ï—Å–ª–∏ –∑–∞–Ω—è—Ç, —É–±–µ–π—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å
pkill -f "python app.py"
```

### –ï—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –ø–∞–º—è—Ç–∏:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python app.py --config config/cpu_test_config.yaml --interface gradio
```

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ë–î:
```bash
python test_rag_dataset.py --config config/cpu_test_dataset_config.yaml --rebuild-vector-db
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
RAGAS/
‚îú‚îÄ‚îÄ start_rag.sh                    # –°–∫—Ä–∏–ø—Ç –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ app.py                          # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ test_rag_dataset.py             # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ create_test_dataset.py          # –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –¥–∞—Ç–∞—Å–µ—Ç–∞
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ cpu_test_dataset_config.yaml # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è CPU
‚îú‚îÄ‚îÄ datasets/rag_test/              # –¢–µ—Å—Ç–æ–≤—ã–π –¥–∞—Ç–∞—Å–µ—Ç
‚îÇ   ‚îú‚îÄ‚îÄ documents_for_rag.json      # 5 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ qa_pairs.json               # 8 –≤–æ–ø—Ä–æ—Å–æ–≤-–æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ vector_db/                  # –í–µ–∫—Ç–æ—Ä–Ω–∞—è –ë–î
‚îî‚îÄ‚îÄ src/                            # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
```

## üéØ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–°–∏—Å—Ç–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ. –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ `./start_rag.sh` –∏ –Ω–∞—á–∏–Ω–∞–π—Ç–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å! üöÄ
